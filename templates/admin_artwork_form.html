{% extends 'base.html' %}
{% block content %}
<div class="page-header">
    <h1>{% if artwork %}Edit{% else %}New{% endif %} Artwork</h1>
    <a class="btn ghost" href="{{ url_for('admin_artworks') }}">Back to Artworks</a>
</div>
<form class="form" method="POST" enctype="multipart/form-data">
    <label>Title</label>
    <input type="text" name="title" value="{{ artwork.title if artwork else '' }}">
    {% if errors.title %}<span class="error">{{ errors.title }}</span>{% endif %}
    <label>Description</label>
    <textarea name="description">{{ artwork.description if artwork else '' }}</textarea>
    {% if errors.description %}<span class="error">{{ errors.description }}</span>{% endif %}
    <label>Category</label>
    <input type="text" name="category" value="{{ artwork.category if artwork else '' }}">
    {% if errors.category %}<span class="error">{{ errors.category }}</span>{% endif %}
    <label>Price</label>
    <input type="number" step="0.01" name="price" value="{{ artwork.price if artwork else '' }}">
    {% if errors.price %}<span class="error">{{ errors.price }}</span>{% endif %}
    <label>Stock</label>
    <input type="number" name="stock" value="{{ artwork.stock if artwork else '' }}">
    {% if errors.stock %}<span class="error">{{ errors.stock }}</span>{% endif %}
    <label>Image URL (optional)</label>
    <input type="text" name="image_url" value="{{ artwork.image_url if artwork else '' }}">
    <label>Upload Image</label>
    <input type="file" name="image_file">
    {% if errors.image_file %}<span class="error">{{ errors.image_file }}</span>{% endif %}
    {% if artwork %}<input type="hidden" name="existing_image" value="{{ artwork.image_url }}">{% endif %}
    <button class="btn primary" type="submit">Save</button>
</form>
{% endblock %}
